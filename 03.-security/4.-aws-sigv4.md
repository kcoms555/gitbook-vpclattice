---
description: 'Update : 2024.01.11'
---

# 4. AWS SigV4

AWS SigV4를 사용하여 VPC Lattice 서비스에 대한 Request에 서명하여 Service에 프로그래밍 방식으로 액세스할 수 있습니다. 이 단계에서는 AWS SigV4를 사용하여 superappsvcnetwork의 예약 서비스에 대한 요청에 서명하는 샘플 Python 코드를 사용하여 이를 수행하는 방법을 살펴보겠습니다.

### Step1. Access 정책 구성

"VPC Lattice" - "Services" 의 reservation 은 선택합니다.&#x20;

<figure><img src="../.gitbook/assets/image.png" alt=""><figcaption></figcaption></figure>

"reservation service" 의 "Access" - "Edit access settings"를 선택합니다.

<figure><img src="../.gitbook/assets/image (34).png" alt=""><figcaption></figcaption></figure>

Access 설정 편집 화면에서 "AWS IAM"을 선택한 다음 정책 템플릿 적용 DropDown에서 "Allow only authenticated access"을 선택한 다음 "Save Change"를 클릭합니다. 동일한 화면에서 정책을 검토할 수 있습니다. “StringNotEqualsIgnoreCase”를 “aws PrincipalType” “anonymous”와 일치시키는 조건문을 사용하여 인증되지 않은 액세스 요청을 거부합니다.

<figure><img src="../.gitbook/assets/image (35).png" alt=""><figcaption></figcaption></figure>

### Step2. 시험 구성



LatticeWorkshop InstanceClient1 또는 LatticeWorkshop InstanceClient2에 로그인하고 Python 샘플코드를 실행합니다. 이 프로그램은 2개의 인수를 사용합니다.

* 호출되는 서비스의 URL
* HTTP Methon (GET 또는 POST)&#x20;

이후 다음 botocore 라이브러리로 AWS SigV4를 사용하여 요청에 서명합니다.&#x20;

* <>은 **Prerequisite** 섹션의 **3단계**에서 캡처한 **reservation** 서비스의 도메인 이름으로 바꾸십시오.



이 프로그램은 2개의 인수를 사용합니다. 1/ 호출되는 서비스의 URL 및 2/ HTTP Methon(GET 또는 POST). 그런 다음 botocore 라이브러리를 사용하여 AWS SigV4를 사용하여 요청에 서명합니다. \*\*<예약 서비스 도메인 이름>을 전제 조건 섹션의 3단계에서 캡처한 예약 서비스 도메인 이름으로 바꾸세요.

