---
description: 'Update : 2024-01-06'
---

# 1. Target Group 생성

### 1.Target Group 생성하기

01.사전 준비 및 소개 단계에서 배포한 VPC의 자원들을 VPC Lattice의 Target Group으로 생성합니다.

아래 3개의 자원들이 Target이 됩니다.

* VPC Reservation - Lambda
* VPC Rate - EC2
* VPC Payments - ALB

### 2.Reservation 서비스를 위한 Target Group 생성하기

먼저 Lambda가 배포되어 있는 VPC Reservation의 자원을 Target Group으로 등록합니다.

"VPC"- "VPC Lattice" 메뉴에서 Target groups 를 선택하고, "Create target group"을 선택합니다.

<figure><img src="../.gitbook/assets/image (15).png" alt=""><figcaption></figcaption></figure>

Lambda 를 Target Group으로 등록해야 하므로 , target type은 "Lambda function"을 선택합니다.

Target group name은 식별을 용이하게 하기 위해 "reservation-tg" 라고 입력합니다.

<figure><img src="../.gitbook/assets/image (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

* Choose a target type : Lambda function
* Target group name : reservation-tg

이제 Target을 구성합니다.&#x20;

"Lambda function" 을 선택하면, 이미 1개의 Lambda function이 선택되어 있는 것을 확인해 볼 수 있습니다. "LatticeReservationLambda"를 선택하고, "Create target group"을 선택합니다.

<figure><img src="../.gitbook/assets/image (2) (1) (1).png" alt=""><figcaption></figcaption></figure>

* Lambda function - LatticeReservationLambda



정상적으로 등록이 완료되면 아래와 같은 화면이 출력됩니다.

<figure><img src="../.gitbook/assets/image (3) (1).png" alt=""><figcaption></figcaption></figure>

### 3.Parking 서비스를 위한 Target Group 생성하기

Step1. Specify Group Details 구성하기

가 배포되어 있는 VPC Reservation의 자원을 Target Group으로 등록합니다.

"VPC"- "VPC Lattice" 메뉴에서 Target groups 를 선택하고, "Create target group"을 선택합니다.

<figure><img src="../.gitbook/assets/image (4) (1).png" alt=""><figcaption></figcaption></figure>

* Choose a target type - instances
* Target group name - rates-tg
* Protocol : Port - HTTPS / 4242
* VPC - LatticeWorkshop Rates VPC
* Protocol version - HTTP1

<figure><img src="../.gitbook/assets/image (5) (1).png" alt=""><figcaption></figcaption></figure>

Step2. Resigter Targets

<figure><img src="../.gitbook/assets/image (6) (1).png" alt=""><figcaption></figcaption></figure>

* Instance Name : LatticeWorkshop Rates

<figure><img src="../.gitbook/assets/image (7) (1).png" alt=""><figcaption></figcaption></figure>

* Auto Scaling groups Name - xxxx-RatesASG-xxxx
* Detail - VPC Lattice integration options - Edit 선택

<figure><img src="../.gitbook/assets/image (8) (1).png" alt=""><figcaption></figcaption></figure>

* Select VPC Lattice service to attach - Attach to VPC Lattice service
* Choose VPC Lattice target group - rates-tg
* Update 선택

### 4.Payments 서비스를 위한 Target group 생성



<figure><img src="../.gitbook/assets/image (9) (1).png" alt=""><figcaption></figcaption></figure>

* Choose a target group - Application Load Balancer
* Target group name - payments-tg
* Protocol:Port - HTTP / 80
* VPC - LatticeWorkshop Payments VPC
* Protocol version - HTTP1
* Next 선택

<figure><img src="../.gitbook/assets/image (10) (1).png" alt=""><figcaption></figcaption></figure>

* Register Application Load Balancer - Register now
* Application Load Balancer  - lattice-Paymexxxx-xxxx
* Port - Defalt to target group port:80

### 5.VPC Lattice Target groups 확인

<figure><img src="../.gitbook/assets/image (12) (1).png" alt=""><figcaption></figcaption></figure>
